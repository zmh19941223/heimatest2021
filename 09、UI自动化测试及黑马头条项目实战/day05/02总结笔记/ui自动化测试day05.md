# ui自动化测试day05(app专项)

### 3、敏捷开发模型

#### 3.1 敏捷开发模型介绍

* 瀑布模型（传统行业）

  * 需求分析
  * 设计
  * 编码
  * 测试
  * 运行维护

   优点：

  1、为项目提供了按阶段划分检查点(文档)

  2、当前一阶段完成后，只需要关注后续阶段。

  缺点：

  1、在项目各介段之间极少有反馈，出现问题没法及时处理，灵活性差

  2、只有在项目结束交付上线时才能看到最终的结果

  3、需要太多的文档来驱动项目进行。影响项目的效率。

  结论：采用传统的瀑布模型最大的问题是开发的周期长，迭代的速度慢。

互联网行业特点：追求创新、以快吃慢、需求高度不确定性

互联网产品开发的特点：新需求、新方向

降低项目风险，确保正确的方向：快速的反馈机制、快速试错的流程 （针对需求不确定性）

敏捷开发：

概念：以用户的需求为核 心，采用迭代、循序渐近的方法进行软件开发

在敏捷开发过程当，软件项目在构建初期会被切分成不同的子系统以及不同的失代，各个子项目的成果经过测度，具备可视，可集成和可运行的特征。

#### 3.2 Scrum介绍

概念：Scrum是一个敏捷开发框架，是一个增量的，迭代的开发过程。在这个框架中，整个开发周期包括若干个小的迭代
周期，每个小的迭代周期成为一个Sprint（sprint：项目开发过程中最小迭代周期），每个Sprint的周期建议为2~4
周。在Scrum中，将产品Backlog（产品待办列表）按商业价值排出需求列表。在每个迭代中开发团队从产品
Backlog挑选最有价值的需求进行开发，实现完成后产品推出市场，进入下一个迭代

需要熟悉的三个角色:

* 产品负责人：收集产品需求，确定产品上线时间，排产品需求的优先级
* 项目经理：带领团实现SCRUM敏捷过程，确保组内成员不被外界干扰，确保组内成员按时完成任务
* 开发团队：程序员，测试员，设计（程序员分前端、后端、android开发、ios开发）
* 每日立会: 需要知道每天干 了什么，明天计划干什么，以及遇到的问题。   一般早上开会，15分钟左右。 同时需要知道项目的进度是否正常



---

### 4、app应用测试流程

* 参与需求评审         评审前一定要看需求文档
* 制定测试计划       一般由测试负责人或测试主管制定
* 设计编写测试用例    有一些小公司由人力时间紧张，可以不写用例，需要写测试点。用例评审
* 执行用例，跟踪缺陷      搭建环境，冒烟测试（有可能做，也有可能不做）
* 编写提交版本测试报告   



---

## 二、学车不app测试

### 1、模拟器安装及使用介绍



---

### 2、app测试要点

* 功能测试   
* 兼容性测试
* 安装、卸载、升级测试
* 交叉事件测试
* PUSH测试
* 性能测试
  * CPU
  * 内存
  * 流量
  * 电量
  * 流畅度
  * 启动速度
* 用户体验测试
* 稳定性测试

#### 2、业务功能测试

根据测试功能去拆分功能点，再根据功能点去分析测试点。



## 一、专项测试

### 1、兼容性测试（专项）

* 系统  1、android   2、IOS

* 手机系统的版本    覆盖主流    https://tongji.baidu.com/research/app 

  * android  对应的主流版本 9.0 \ 8.1  \10.0的版本
  * IOS     对应的主流版本  13.3.1 \ 13.4.1\ 13.3 

* 品牌-机型       覆盖主流     https://tongji.baidu.com/research/app 

  * android   华为、小米、vivo
  * IOS 苹果

* 屏幕分辨率   覆盖主流    https://tongji.baidu.com/research/app 

* 软硬件兼容性
  与手机硬件兼容
  home键、电源键、音量调节等
  与外部硬件设备兼容
  耳机、蓝牙等
  与操作系统软件兼容
  wlan设置、系统时间调节、LBS定位等
  与其他APP兼容
  后台在播放音乐时，进入动态页面点击动态视频的播放，系统如何处理

* 网络兼容性   2G\3G\4G\5G\WIFI

  

  不可能去做全兼容的测试。

  可以去做深度兼容测试。需要借助于第三方云测试平台。testin云测，云测平台有很多手机。

  在云测平台注册账号，上传APP，给钱，拿 报告 。

  

### 2、安装卸载升级测试（专项）

app是一个客户端程序，客户端在使用前是需要安装的，因此需要测试安装、卸载、升级的操作

安装测试点：（只要大家能想到的点，都可以去进行测试，没有对错）

* 正常场景：

1、在不同的操作系统、不同的手机品版和版本上安装

2、从不同的渠道下载app进行测试

3、不同的安装路径，安装在手机的内存卡或者是SD卡（非必要）

异常场景：

4、安装时出现异常（关机、断网），恢复后能否继续安装

5、安装时存储空间不够或者内存不足

6、安装时点出取消再安装

7、安装之后再次覆盖安装

8、低版本覆盖安装高版本

* 卸载

  正常卸载：长按app正常删除卸载、通过第三方工具进行卸载

  异常卸载：app正在运行卸载、取消卸载、卸载关机、卸载之后数据是否保留

* 升级

  正常升级: 从低版本升级到高版本，从app内部升级， 从app应用商城升级

  异常升级：跨版本升级， 关机，内存不足，电量不足

  升级提示

  升级之后数据的检查

  

  ---

  

### 3、交叉测试

概念：交叉测试又称为冲突测试，或者干 扰测试

交叉事件的关注点：

1、app运行时接打电话

2、app运行时收发短信

3、app运行时收到推送通知

4、app运行时接到视频通话

5、app运行连接蓝牙

6、app运行时切换网络、切换应用

7、app运行时旋转屏幕



---

### 4、push消息测试

* 消息推送的场景:
  * 新闻资讯类通知， 让用户实时获取到自己感兴趣的新闻，从而增加用户的粘性
  * 商城类通知，  让用户获取到商城的促销活动，提高用户的成交率
  * 流程类的通知， 让用户及时获取处理工作的内容。
* 推送原理：  是由服务器通过推送的服务将对应的消息推送到app端。 是一个长连接的状态。
* 推送服务器： 使用的是第三方的推送服务器。（极光或者信鸽）
* 手机厂商会自己的推送服务器。
* 
* 中小企业不会自己搭建推送服务器，一般使用的都是第三方的推送服务器
* push消息推送的关注点
  * PUSH消息推送是否按指业务规则发送.
  * 当PUSH推送时，检查是否按特定用户去进行推送.
  * 设置不接收推送消息时，确认是否正常
  * 推送通知的跳转是否正常
  * 推送消息的打开及展示
  * 包括app是否运行，都需要去关注推送消息能否收到。

---

### 3、性能测试

1、打开USB调式，   点击“系统应用”--“设置”， 在设置 的最下方选择“关于平板电脑”，在关于平板电脑中点击“版本号”，直接提示开发者选项已打开。

2、返回到设置 菜单页面时，可以  看到 “开发者选项”这个菜单。点击进入到开发者选项， 需要打开  USB调试  以及指针位置  这两个选项。



3、开启超级管理员访问权限

* 点击“系统应用”--“文件管理器”， 在文件管理器的左上方有三横杆的按钮，在弹出的页面中点击左下方的 齿轮 按钮，进入到设置页面之后，选择  “常规设置”---“访问模式”，将访问模式更改为超级管理员访问模式。

  

#### 3.1 性能工具介绍及安装

GT随身调   android版是由腾讯公司开发的性能测试平台。直接运行在手机上面的。

可以通过GT工具进行基础的性能测试：内存、CPU、电量、网络流量、流畅度，可以以绘制图表的形式显示出指标的相关数据

GT工具提供了查看日志的功能。可以通过查看相关日志来分析和定位app功能异常以及crash等问题

#### 3.2 性能工具使用

* 打开GT工具，在AUT界面选择被测试的app以及对应的性能指标

* 设置参数，进入到参数页面，点击右上角的"编辑"按钮，拖动想要测试的参数到已关注区域，而且要勾选。

  勾选之后，点击上方的红色 录制按钮。

* 执行测试之前，进入到日志界面，开启logcat的日志记录功能。

* 如果要进行电量或流量的性能测试需要进入到插件页面进行设置。

* 返回到AUT界面，在上面点击“启动”或者“running” 来启动被测试的app

* 针对app进行相关的业务操作

* 操作完成之后，再进入到GT工具，查看性能参数的数据。



#### 3.3 CPU测试

GT工具提供了两个CPU的监控指标：CPU和jiffes

CPU指标就是指当前手机中cpu的整体使用率

用户态：cpu处于应用程序执行的时间

系统态：表示的是系统内核执行的时间

空闲态：表示空闲系统进程执行的时间

cpu使用率 = cpu空闲态/cpu的总的执行时间

jiffief:

表示的是开机以来，程序消耗的CPU时间片的总数

CPU问题的影响:

1、CPU使用长时间处于90%以上  (70   80 )

2、手机发热、耗电量增加

3、反应变慢，引起ANR(假死状态)

操作步骤：

1、打开GT工具，进入到AUT页面，选择测试的app，勾选CPU性能指标

2、进入到参数界面，配置CPU参数选项，然后进行勾先，点击录制

3、进入到日志界面，打开logcat记录日志

4、返回到AUT界面，启动app

5、针对app进行相关的业务操作（实际工作当中，操作时间会比较长）

6、返回到GT工具界面，查看相关的参数数据。

#### 3.4 内存测试

PSS和private dirty

private dirty（私有内存）:

进程独占的内存，也就是进程销毁时可以回收的内存容量.

PSS(实际使用内存):

将跨进程的共享内存也加入进来，进行按比列计算PSS。就能够准确的表示进程占用的实际物理内存。

常见问题：

1、内存泄漏

内存泄漏（memory leak）：当程序运行时申请了对应的内存空间，而当程序销毁时并没有释放对应的内存空间。

2、内存溢出

内存溢出 (out of memory):是指程序在申请内存空间时，没有足够的内存空间供其使用。

* 内存问题产生的影响

  1、程序实际使用的内存PSS会不停的增长

  2、程序会出现闪退（crash）

内存的指标根据不同的手机配置、以及不同的公司，指标值是不一样的。

* 内存操作步骤：
  * 打开GT工具，选择对应的被测app， 勾选内存指标（PSS和private dirty）
  * 进入到参数界面，编辑参数，勾选对应参数，并点击录制按钮
  * 进入到日志界面，开启logcat,记录日志信息
  * 回到AUT界面，点击 启动按钮，启动被测试的app
  * 针对启动的app进行相关的业务功能操作（时间一般也会在几个小时左右。）
  * 操作完成，回到GT工具的参数界面，查看获取到的参数数据。

#### 3.5 流畅度测试



#### 3.6 流量测试



#### 3.7 电量测试



#### 3.8 用户体验测试



#### 3.6 弱网测试



---

## 二、app测试总结



---

# app自动化测试

## 一、app自动化框架介缫

### 1、常用自动化框架介绍



### 2、appium介绍

#### 2.1 appium自动化框架特点



#### 2.2 appium自动化原理



